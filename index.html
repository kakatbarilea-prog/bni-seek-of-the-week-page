<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BNI — Seek of the Week</title>

<style>
  :root{
    --bni-red:#cf2030;            /* BNI red */
    --container-w:1200px;         /* Max page width for header brand row */
    --header-h:30px;              /* <<< Adjust HEADER HEIGHT here */
    --footer-h:30px;              /* <<< Adjust FOOTER HEIGHT here */
    --brand-logo-w:700px;         /* <<< Adjust BNI LOGO WIDTH here (height auto) */
    --badge-opacity:0.6;          /* <<< Adjust Segwik badge TRANSPARENCY here (0–1) */
    --badge-size:20px;            /* Base font size in badge */
    --badge-gap:10px;             /* Spacing inside badge */
    --ink:#1f2937;
    --muted:#6b7280;
    --line:#e5e7eb;
    --card:#ffffff;
    --bg:#ffffff;
    --radius:12px;
  }

  *{ box-sizing:border-box; }
  body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    color:var(--ink);
    background:var(--bg);
  }

  /* Page frame */
  .site{
    width: 100%;
    margin: 0 auto;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  .topbar{ background:var(--bni-red); height:var(--header-h); }
  .brand-row{
    width: min(100%, var(--container-w));
    margin: 0 auto;
    display:flex; align-items:center; gap:16px;
    padding:18px 20px; border-bottom:1px solid #eee;
  }
  .brand-row .logo{
    width: clamp(200px, 50vw, var(--brand-logo-w));
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* Content area centers its children vertically & horizontally */
  .content{
    flex: 1 0 auto;
    padding: clamp(16px, 2vw, 32px);
    background: #fff;

    display: grid;
    place-items: center;

    /* fill remaining viewport height between header/footer */
    min-height: calc(100dvh - var(--header-h) - var(--footer-h) - 90px);
  }

  /* Shell = same width as form, centered; header (title+button) sits OUTSIDE the form */
  .shell{
    width: 100%;
    max-width: 760px;       /* <<< keep in sync with .form-wrap */
  }
  .shell-header{
    display:flex; align-items:center; justify-content:space-between; gap:12px;
    margin: 0 0 10px;
  }
  .page-title{
    margin:0; font-size:30px; font-weight:800;
  }
  .btn{
    appearance:none; border:0; background:var(--bni-red); color:#fff;
    font-weight:700; padding:10px 14px; border-radius:8px; cursor:pointer;
    font-size:14px; text-decoration:none; white-space:nowrap; display:inline-block;
  }
  @media (max-width: 520px){
    .shell-header{ flex-wrap:wrap; }
    .shell-header .btn{ width:100%; order:2; text-align:center; }
  }

  /* Form card */
  .form-wrap{
    width: 100%;
    max-width: 760px;                 /* keep readable width */
    background: var(--card);
    border: 1px solid var(--line);
    border-radius: var(--radius);
    padding: 20px;
    box-shadow: 0 14px 40px rgba(0,0,0,0.10);
    margin: 0;                        /* center handled by parent grid */
  }

  .field{ margin-bottom:12px; }
  .label{ display:block; font-size:13px; color:#111; margin-bottom:6px; font-weight:700; }
  .row{ display:flex; gap:10px; align-items:center; }
  .row > *{ flex:1; }
  input[type="text"], select, textarea{
    width:100%;
    border:1px solid var(--line);
    border-radius:8px;
    padding:10px 12px;
    font-family: Arial, Helvetica, sans-serif;
    font-size:14px;
    outline:none;
    max-width:100%;
  }
  textarea{ min-height:90px; resize:vertical; }

  .choices{ display:flex; gap:10px; flex-wrap:wrap; margin-bottom:6px; }
  .choice{
    border:1px solid var(--line);
    border-radius:999px;
    padding:8px 12px;
    cursor:pointer; user-select:none; font-size:13px; background:#fff;
  }
  .choice.active{ background:#fff0f1; border-color:#f2b7bf; color:#9a1027; font-weight:700; }

  .actions{ margin-top:14px; }

  /* Footer */
  .footer{
    background:var(--bni-red); height:var(--footer-h);
    display:flex; align-items:center; justify-content:center; color:#fff; font-weight:600;
    letter-spacing:.3px;
  }

  /* Sticky "Powered by Segwik" badge */
  .powered-by{
    position:fixed; right:18px; bottom:18px; z-index:9999;
    display:inline-flex; align-items:center; gap:var(--badge-gap);
    background:rgba(255,255,255,0.9); border:1px solid rgba(0,0,0,0.08);
    border-radius:999px; padding:8px 12px; box-shadow:0 6px 18px rgba(0,0,0,0.08);
    opacity:var(--badge-opacity); transition:opacity .2s ease; backdrop-filter:blur(6px);
  }
  .powered-by:hover{ opacity:1; }
  .powered-by span{ font-size:var(--badge-size); line-height:1; color:#111827; white-space:nowrap; }
  .powered-by img{ height:calc(var(--badge-size) + 6px); width:auto; display:block; }

  /* Modal */
  .modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center;
    background:rgba(0,0,0,0.4); z-index:9998; padding:20px;}
  .modal.open{ display:flex; }
  .modal-card{
    background:#fff; border-radius:var(--radius); border:1px solid var(--line);
    max-width:520px; width:100%; padding:18px; text-align:center;
  }
  .modal h3{ margin:0 0 8px; font-size:18px; }
  .modal p{ margin:0 0 16px; color:var(--muted); }
  .hidden{ display:none !important; }
</style>
</head>

<body>
  <div class="site">
    <div class="topbar" aria-hidden="true"></div>

    <div class="brand-row">
      <img class="logo" src="https://d34hmiuaex7c0.cloudfront.net/6568/uploads/cmaspages/gallery/galleryitem_1759854726598.png" alt="BNI Rock Solid Referrals Logo">
    </div>

    <main class="content" role="main">
      <!-- HEADER OUTSIDE THE FORM, aligned to the same width -->
      <div class="shell">
        <div class="shell-header">
          <h1 class="page-title">Seek of the Week</h1>
          <a class="btn" id="viewRequestsTop" href="https://kakatbarilea-prog.github.io/bni-seek-of-the-week-page">View Seek of The Week Submissions</a>
        </div>

        <!-- FORM CARD -->
        <section class="form-wrap" aria-label="Seek of the Week form">
          <!-- CHOICE: specific person / company / type of person -->
          <div class="field">
            <div class="label">I’m looking for a:</div>
            <div class="choices" id="seekTypeChoices" role="tablist" aria-label="Seek Type">
              <div class="choice active" data-type="person" role="tab" aria-selected="true">Specific Person</div>
              <div class="choice" data-type="company" role="tab" aria-selected="false">Specific Company</div>
              <div class="choice" data-type="persona" role="tab" aria-selected="false">Type of Person</div>
            </div>
          </div>

          <!-- SPECIFIC PERSON (only for 'Specific Person') -->
          <div id="fields-person">
            <div class="row field">
              <div>
                <label class="label" for="personFirst">First Name</label>
                <input id="personFirst" type="text">
              </div>
              <div>
                <label class="label" for="personLast">Last Name</label>
                <input id="personLast" type="text">
              </div>
            </div>
            <div class="field">
              <label class="label" for="personCompany">Company (optional)</label>
              <input id="personCompany" type="text">
            </div>
          </div>

          <!-- SPECIFIC COMPANY (only for 'Specific Company') -->
          <div id="fields-company" class="hidden">
            <div class="field">
              <label class="label" for="companyName">Company</label>
              <input id="companyName" type="text">
            </div>
          </div>

          <!-- TYPE OF PERSON (only for 'Type of Person') -->
          <div id="fields-persona" class="hidden">
            <div class="row field">
              <div>
                <label class="label" for="personaIndustry">Industry</label>
                <select id="personaIndustry">
                  <option value="">Select…</option>
                  <option>Accounting</option>
                  <option>Advertising & Marketing</option>
                  <option>Architecture</option>
                  <option>Automotive</option>
                  <option>Construction</option>
                  <option>Consulting</option>
                  <option>Education</option>
                  <option>Financial Services</option>
                  <option>Healthcare</option>
                  <option>Hospitality</option>
                  <option>Human Resources</option>
                  <option>Information Technology</option>
                  <option>Insurance</option>
                  <option>Legal Services</option>
                  <option>Manufacturing</option>
                  <option>Nonprofit</option>
                  <option>Real Estate</option>
                  <option>Retail & E-commerce</option>
                  <option>Sports & Fitness</option>
                  <option>Transportation & Logistics</option>
                </select>
              </div>
              <div>
                <label class="label" for="personaTitle">Job Title</label>
                <input id="personaTitle" type="text">
              </div>
            </div>
            <div class="field">
              <label class="label" for="personaSeniority">Experience / Seniority</label>
              <select id="personaSeniority">
                <option value="">Select…</option>
                <option>Entry-Level</option>
                <option>Mid-Level</option>
                <option>Senior</option>
                <option>Director</option>
                <option>VP / C-Level</option>
                <option>Owner / Founder</option>
              </select>
            </div>
          </div>

          <!-- SHARED FIELDS -->
          <div class="field">
            <label class="label" for="whatActions">What Actions You Want Members To Take</label>
            <textarea id="whatActions"></textarea>
          </div>
          <div class="field">
            <label class="label" for="whatSay">What Things You Want Members To Say</label>
            <textarea id="whatSay"></textarea>
          </div>
          <div class="field">
            <label class="label" for="notes">Additional Notes</label>
            <textarea id="notes"></textarea>
          </div>

          <div class="actions">
            <button id="submitSeek" class="btn">Submit Request</button>
          </div>
        </section>
      </div>
    </main>

    <footer class="footer" role="contentinfo">
      <div>BNI Rock Solid Referrals</div>
    </footer>
  </div>

  <!-- STICKY "Powered by Segwik" BADGE -->
  <a class="powered-by" href="https://segwik.com/" aria-label="Powered by Segwik (opens portal)" target="_blank" rel="noopener">
    <span>Powered by</span>
    <img src="https://d34hmiuaex7c0.cloudfront.net/6568/uploads/cmaspages/gallery/galleryitem_1759854883923.png" alt="Segwik">
  </a>

  <!-- Success Modal -->
  <div class="modal" id="successModal" role="dialog" aria-modal="true" aria-labelledby="successTitle">
    <div class="modal-card">
      <h3 id="successTitle">Request Submitted</h3>
      <p>Your Seek of the Week was submitted successfully.</p>
      <div class="actions" style="justify-content:center;">
        <a href="https://kakatbarilea-prog.github.io/bni-seek-of-the-week-page" class="btn" id="goViewRequests">View Seek of The Week Submissions</a>
        <button class="btn" style="background:#f3f4f6; color:#111; border:1px solid var(--line);" id="closeModal" type="button">Close</button>
      </div>
    </div>
  </div>

<script>
/* Minimal local persistence for testing */
const STORAGE_KEY = "bni_seeks_submit_only_v5";
function saveSubmission(data){
  const list = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
  list.unshift(data);
  localStorage.setItem(STORAGE_KEY, JSON.stringify(list));
}

/* Helpers */
const $ = (s, el=document) => el.querySelector(s);
const $$ = (s, el=document) => Array.from(el.querySelectorAll(s));
const uid = () => Math.random().toString(36).slice(2,9);

/* Type switching (distinct fields per choice) */
const typeChoices = $("#seekTypeChoices");
const fields = {
  person: $("#fields-person"),
  company: $("#fields-company"),
  persona: $("#fields-persona")
};
let currentType = "person";

function switchType(type){
  currentType = type;
  $$(".choice", typeChoices).forEach(c => {
    const active = c.dataset.type === type;
    c.classList.toggle("active", active);
    c.setAttribute("aria-selected", active ? "true" : "false");
  });
  Object.keys(fields).forEach(k => fields[k].classList.toggle("hidden", k !== type));
}
typeChoices.addEventListener("click", (e) => {
  const t = e.target.closest(".choice");
  if(!t) return;
  switchType(t.dataset.type);
});

/* Links (replace with real URL) */
const requestsHref = "https://kakatbarilea-prog.github.io/bni-seek-of-the-week-page";
$("#viewRequestsTop").href = requestsHref;
$("#goViewRequests").href = requestsHref;


/* Submit handling */
function resetForm(){
  $$('input[type="text"], textarea').forEach(i => i.value = "");
  const sel1 = $("#personaSeniority"); if(sel1) sel1.value = "";
  const sel2 = $("#personaIndustry");  if(sel2) sel2.value = "";
  switchType("person");
}

$("#submitSeek").addEventListener("click", () => {
  const payload = {
    id: uid(),
    type: currentType,
    createdAt: Date.now(),
    whatActions: $("#whatActions").value.trim(),
    whatSay: $("#whatSay").value.trim(),
    notes: $("#notes").value.trim()
  };

  if(currentType === "person"){
    payload.personFirst = $("#personFirst").value.trim();
    payload.personLast  = $("#personLast").value.trim();
    payload.personCompany = $("#personCompany").value.trim();
    if(!(payload.personFirst || payload.personLast)){
      alert("Please provide at least a first or last name.");
      return;
    }
  } else if(currentType === "company"){
    payload.companyName = $("#companyName").value.trim();
    if(!payload.companyName){
      alert("Please provide a company name.");
      return;
    }
  } else { // persona
    payload.personaIndustry  = $("#personaIndustry").value;
    payload.personaTitle     = $("#personaTitle").value.trim();
    payload.personaSeniority = $("#personaSeniority").value;
    if(!(payload.personaIndustry || payload.personaTitle || payload.personaSeniority)){
      alert("Please provide at least one field (industry, job title, or seniority).");
      return;
    }
  }

  saveSubmission(payload);
  $("#successModal").classList.add("open");
});

/* Close modal => reset form */
$("#closeModal").addEventListener("click", () => {
  $("#successModal").classList.remove("open");
  resetForm();
});
document.addEventListener("keydown", (e) => {
  if(e.key === "Escape" && $("#successModal").classList.contains("open")){
    $("#successModal").classList.remove("open");
    resetForm();
  }
});
$("#successModal").addEventListener("click", (e) => {
  if(e.target.id === "successModal"){
    $("#successModal").classList.remove("open");
    resetForm();
  }
});
</script>
</body>
</html>
